# Chapter 8 星星

从现在开始，我们将会进行一些视觉上的工作。构建视差背景是相对比较简单的：添加一些图层，添加一些图片和纹理，再为交互添加一些润色（如动画等）。但是，许多细节是相互依赖的。

## 1. 设计

由于我们已经在[之前的章节](http://www.c4ios.com/cosmos/8-stars/.%20)里仔细讲过了整个应用的设计，因此，不在这里赘述了。但是，在这里讲一下需要完成的视觉上的分解操作：

![](http://www.c4ios.com/cosmos/8-stars/01.png)

这是应用从水平角度看过去的样子，看上去有点简单。如果你现在忽视了那个圆形小菜单的话，你可以看看这个视图所有图层分层显示的版本，如下图。

![](http://www.c4ios.com/cosmos/8-stars/02.png)

正如你看到的，这里有 8 个图层。其中，每个图层都有各种纹理，有些纹理会移动，有些是静止的（如：speed = 0.0）。有些图层有动画，而最后一个图层为控制板和小符号放置了额外的可视化元素。

## 2. 分解

如我之前提到的，把各个部分一步步整合起来是有些复杂的，因为它们都是相互依赖的。

接下来，我们将这些步骤一步步分开来操作，最后再将它们整合到一起：

1. 构建 StarsBackground 类处理基本的图层
2. 构建 SignLines 类处理 line 图层
3. 构建 StarsSmall 类处理星座中的小星星
4. 构建 StarsBig 类处理星座中的大星星
5. 把所有这些都整合到 Stars 类，这个应用真正的背景类中

